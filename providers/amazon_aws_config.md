## Amazon AWS Config

The [AWS Config](http://aws.amazon.com/config/) service provides configuration
information about all catalog items in your AWS environment, including
configuration changes.

### Setting up the AWS Config service

The instructions for enabling the AWS Config service are provided in [Amazon's
documentation](http://aws.amazon.com/config/details/#Getting_Started).  An
overview of those instructions is provided here.

1. Create an AWS SNS Topic called `AWSConfig_topic`.
  * log into the AWS Console
  * navigate to the SNS tab
  * click the "Create and Add" button, and select "Create new topic"
  * in the dialog, enter "AWSConfig_topic" as the topic name
  * click "Create topic" to close the dialog
2. Create an AWS S3 bucket for AWS Config
  * navigate to the S3 tag in the AWS Console
  * click the "Actions" button, and select "Create Bucket..."
  * in the dialog, enter a bucket name in the "Bucket Name" field
  * select the region appropriate for your AWS account
  * click "Create" to close the dialog
3. Enable the AWS Config service
  * navigate to the Config tab
  * click the gear icon next to the "Status" link
  * under the "Amazon SNS Topic" heading, select "Choose a topic from your
    account" and select the `AWSConfig_topic`
  * under the "Amazon S3 Bucket" heading, select "Choose a bucket from my
    account" and select the correct bucket name
  * enter an optional subdirectory
  * click "Allow" to allow the AWS Config service read resource configurations

### How ManageIQ Uses AWS Config

ManageIQ supports AWS Config by using the service as the source for events.
Configuration changes published by AWS Config are consumed by ManageIQ and
treated as events.  These events are processed by the normal ManageIQ event
handler mechanisms.

When the ManageIQ AWS Event Catcher starts for the first time, it will create a
new AWS SQS Queue that subscribes to the AWS SNS Topic used by the AWS Config
service.  It is important to use the AWS SNS Topic name of `AWSConfig_topic`
when setting up the AWS Config service so that ManageIQ can find the topic when
creating the SQS Queue.

The SQS Queue is used to receive AWS resource configuration diffs generated by
the AWS Config service.  The ManageIQ AWS Event Catcher connects to the SQS
Queue and receives all of the AWS resource configuration diffs.
